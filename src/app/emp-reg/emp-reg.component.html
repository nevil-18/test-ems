<div>
  <img
    src="https://avatars.githubusercontent.com/u/19733923?s=280&v=4"
    alt="Playpower"
    width="100"
    height="100"
    style="margin-left: 100px; float: left"
  />
  <div class="topnav">
    <a id="left" (click)="Profile()">My Profile</a>
    <a id="left" class="active" (click)="onEmpSearch()">Search Profile</a>
    <!--<a id="left" (click)="onHoliday()">Holiday Calendar</a>-->
    <img
      *ngIf="adminOrNot"
      id="right"
      src="https://img.icons8.com/ios/100/000000/edit-administrator.png"
      height="54"
      width="53"
      style="background-color: white"
    />
    <a id="right" (click)="onLogout()">Logout</a>
  </div>
</div>

<div class="containerform">
  <!-- Success message -->
  <div class="success" *ngIf="showSucessMessage">Saved successfully</div>

  <!-- Error message -->
  <div class="alert" *ngIf="serverErrorMessages">
    {{ serverErrorMessages }}
  </div>
  <div class="card">
    <form
      #signUpForm="ngForm"
      (ngSubmit)="signUpForm.valid && onSubmit(signUpForm)"
    >
      <label class="label1">Playpower Email:</label>
      <input
        type="text1"
        #playpowerEmail="ngModel"
        [(ngModel)]="userService.selectedUser.playpowerEmail"
        name="playpowerEmail"
        placeholder="Playpower Email"
        [pattern]="playpowerRegex"
        [ngClass]="{
          'invalid-textbox': signUpForm.submitted && !playpowerEmail.valid
        }"
        required
      />
      <div
        *ngIf="
          playpowerEmail.errors &&
          (playpowerEmail.touched || playpowerEmail.dirty)
        "
      >
        <label *ngIf="playpowerEmail.errors.required" class="validation-message"
          >This field is required.</label
        >
        <label *ngIf="playpowerEmail.errors.pattern" class="validation-message"
          >Invalid email address(Only Playpower Email accepted)</label
        >
      </div>
      <br />
      <label class="label1">Password:</label>
      <input
        type="password1"
        #password="ngModel"
        [(ngModel)]="userService.selectedUser.password"
        name="password"
        placeholder="Password"
        minlength="4"
        [ngClass]="{
          'invalid-textbox': signUpForm.submitted && !password.valid
        }"
        required
      />
      <div *ngIf="password.errors && (password.touched || password.dirty)">
        <label *ngIf="password.errors.required" class="validation-message"
          >This field is required.</label
        >
        <label *ngIf="password.errors.minlength" class="validation-message"
          >Enter atleast 4 characters.</label
        >
      </div>
      <br />
      <label class="label1">First Name:</label>
      <input
        type="text1"
        #firstName="ngModel"
        [(ngModel)]="userService.selectedUser.firstName"
        name="firstName"
        placeholder="First Name"
        [ngClass]="{
          'invalid-textbox': signUpForm.submitted && !firstName.valid
        }"
        required
      />
      <div *ngIf="!firstName.valid && (firstName.touched || firstName.dirty)">
        <label class="validation-message">This field is required.</label>
      </div>
      <br />
      <label class="label1">Middle Name:</label>
      <input
        type="text1"
        #middleName="ngModel"
        [(ngModel)]="userService.selectedUser.middleName"
        name="middleName"
        placeholder="Middle Name"
        [ngClass]="{
          'invalid-textbox': signUpForm.submitted && !middleName.valid
        }"
      /><br />
      <label class="label1">Last Name:</label>
      <input
        type="text1"
        #lastName="ngModel"
        [(ngModel)]="userService.selectedUser.lastName"
        name="lastName"
        placeholder="Last Name"
        [ngClass]="{
          'invalid-textbox': signUpForm.submitted && !lastName.valid
        }"
        required
      />
      <div *ngIf="!lastName.valid && (lastName.touched || lastName.dirty)">
        <label class="validation-message">This field is required.</label>
      </div>
      <br />
      <label class="label1">Designation:</label>
      <input
        type="text1"
        #designation="ngModel"
        [(ngModel)]="userService.selectedUser.designation"
        name="designation"
        placeholder="Designation"
        [ngClass]="{
          'invalid-textbox': signUpForm.submitted && !designation.valid
        }"
        required
      />
      <div
        *ngIf="!designation.valid && (designation.touched || designation.dirty)"
      >
        <label class="validation-message">This field is required.</label>
      </div>
      <br />
      <label class="label1">Department:</label>
      <select
        class="opt"
        name="department"
        id="department"
        #department="ngModel"
        [(ngModel)]="userService.selectedUser.department"
        [ngClass]="{
          'invalid-textbox': signUpForm.submitted && !department.valid
        }"
        style="color: #7d7d7d"
        required
      >
        <option value="" selected style="color: #7d7d7d">Department</option>
        <option *ngForm="let department of departments">
          {{ department.departmentName }}
        </option>
        <option value="WD">Web Developement</option>
        <option value="AI">Machine Learning - AI</option>
        <option value="HR">Human Resource</option>
        <option value="DS">Data Science</option>
      </select>
      <br/>
      <div
        *ngIf="!department.valid && (department.touched || department.dirty)"
      >
        <label class="validation-message">This field is required.</label>
      </div>
      <label class="label1">DOJ:</label>
      <input
        onfocus="(this.type='date')"
        onblur="(this.type='text1')"
        id="date"
        type="text1"
        #dateOfJoining="ngModel"
        [(ngModel)]="userService.selectedUser.dateOfJoining"
        name="dateOfJoining"
        placeholder="DOJ"
        [ngClass]="{
          'invalid-textbox': signUpForm.submitted && !dateOfJoining.valid
        }"
        required
      />
      <div
        *ngIf="
          !dateOfJoining.valid && (dateOfJoining.touched || dateOfJoining.dirty)
        "
      >
        <label class="validation-message">This field is required.</label>
      </div>
      <br />
      <label class="label1">Phone:</label>
      <input
        type="text1"
        #phone="ngModel"
        [(ngModel)]="userService.selectedUser.phone"
        name="phone"
        placeholder="Phone"
        pattern="[0-9]+"
        minlength="10"
        maxlength="10"
        [ngClass]="{ 'invalid-textbox': signUpForm.submitted && !phone.valid }"
        required
      />
      <div *ngIf="phone.errors && (phone.touched || phone.dirty)">
        <label *ngIf="phone.errors.pattern" class="validation-message"
          >Invalid Phone Number.</label
        >
        <label *ngIf="phone.errors.required" class="validation-message"
          >This field is required.</label
        >
        <label *ngIf="phone.errors.minlength" class="validation-message"
          >Enter 10 characters.</label
        >
        <label *ngIf="phone.errors.maxlength" class="validation-message"
          >Enter 10 characters.</label
        >
      </div>
      <br />
      <label class="label1">Address:</label>
      <input
        type="text1"
        #address="ngModel"
        [(ngModel)]="userService.selectedUser.address"
        name="address"
        placeholder="Address"
        [ngClass]="{
          'invalid-textbox': signUpForm.submitted && !address.valid
        }"
        required
      />
      <div *ngIf="!address.valid && (address.touched || address.dirty)">
        <label class="validation-message">This field is required.</label>
      </div>
      <br />
      <label class="label1">Is Admin?</label>
      <select
        class="opt"
        name="admin"
        id="admin"
        #admin="ngModel"
        [(ngModel)]="userService.selectedUser.admin"
        [ngClass]="{ 'invalid-textbox': signUpForm.submitted && !admin.valid }"
        required
      >
        <option value="" selected>Admin?</option>
        <option value="Yes">Yes</option>
        <option value="No">No</option>
      </select>
      <div *ngIf="!admin.valid && (admin.touched || admin.dirty)">
        <label class="validation-message">This field is required.</label>
      </div>
      <br />
      <br />
      <br />
      <input
        id="But1"
        type="submit"
        value="Register"
        [disabled]="!signUpForm.valid"
      />
    </form>
  </div>
</div>
